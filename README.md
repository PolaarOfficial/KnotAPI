**This is a research project done by Alec Rulev**


# Purpose: Create an automated way to make a purchase on Amazon from signin to checking out
This can possibly be used a study case for agentic shopping


Prerequisites:
- Basic Solution
--Create an amazon account for testing
- MFA Solution
--Create an amazon account for testing
--Create a VOIP phone number with an API access (Using TWILIO in this case)


## 1) BASIC SOLUTION

Creating an amazon account does not require much, and the security level is relatively basic. Realistically, most Amazon clients utilize MFA for signin, but this particular solution provides a good guideline of how to 
-  login 
- search for an item 
- add an item to cart, and 
-  checkout.

Leveraging playwright for this was done for familiarity purposes, as well its debugging utility and speed. 

Initially we created a few Page Object Models to reflect the relevant locators and functionalities we would require on each page which are as follows:
Home Page,
Search Result Page,
Cart Page,
Checkout Page.

Some extra pages were included to handle extra features provided by Amazon, such as purchasing or declining an Amazon Prime membership.

## 2) MFA Solution

This solution was worked on first, until some roadblocks were hit, which resulted in the implementation of the basic solution. Lets assume that the set up is the same for MFA solution as it was for the basic solution. 

In the MFA solution, we are working with the problem of obtaining an OTP code generated by Amazon when a user attempts to login with 2FA enabled with their phone. In order to automate this process, we can leverage some tools such as Twilio, which provide virtual phone numbers, as well as an API to poll the phone numbers for their messages. 
>**Note**: OTP codes from Amazon arrive by short code message, and that requires a paid account on Twilio as well as an approved ticket for your virtual number to accept these messages. Currently, I am waiting for approval from Twilio's Customer Service, though there is chance Amazon might not allow VOIP phones to accept OTP codes.

An API that Twilio provides is as following to receive messages from the phone on your account: https://www.twilio.com/docs/messaging/api/message-resource#read-multiple-message-resources

Since we are not doing anything else with Twilio, other than polling for the messages, this is all that is necessary, and can be done by request, with no additional set up.

We can then pull in the OTP from GET request, and then leverage it in our login steps, in order to proceed with the Amazon shopping experience.





## Usage with AGENTIC Shoppers


Further research required:
Deep Link
https://developer.amazon.com/docs/reports-promo/deeplink-to-the-amazon-client.html
Product Search API
https://developer-docs.amazon.com/amazon-business/docs/product-search-api-v1-reference
https://webservices.amazon.com/paapi5/documentation/search-items.html
Checkout Session API
https://developer.amazon.com/docs/amazon-pay-api-v2/checkout-session.html

https://www.skilldrick.co.uk/2010/02/amazon-product-information-via-amazon-web-services/
https://stackoverflow.com/questions/1595624/amazon-products-api-looking-for-basic-overview-and-information

